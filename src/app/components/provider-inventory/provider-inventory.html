<div class="admin-container">
  <div class="page-header">
    <h1>Portal de Proveedores</h1>
    <button class="btn-add" (click)="printReport()">
      <i class="bi bi-printer"></i> Imprimir Reporte
    </button>
  </div>

  @if (lowStockItems().length > 0) {
    <div class="alert-box">
      <i class="bi bi-exclamation-circle-fill"></i>
      <span>Atención: Se requiere surtir <strong>{{ lowStockItems().length }}</strong> productos.</span>
    </div>
  }

  <div class="table-responsive">
    <table class="admin-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Insumo</th>
          <th>Descripción</th>
          <th>Stock Actual</th>
          <th>Mínimo</th>
          <th>Estado</th>
        </tr>
      </thead>
      <tbody>
        @for (item of inventory(); track item.id) {
          <tr>
            <td>{{ item.id }}</td>
            <td><strong>{{ item.nombre }}</strong></td>
            <td class="text-muted">{{ item.descripcion || '-' }}</td>
            
            <td>
              <span class="stock-badge" 
                    [class.ok]="item.stockActual > item.stockMinimo"
                    [class.low]="item.stockActual <= item.stockMinimo">
                {{ item.stockActual }}
              </span>
            </td>
            
            <td>{{ item.stockMinimo }}</td>
            
            <td>
              <span class="status" 
                    [class.active]="item.stockActual > item.stockMinimo" 
                    [class.inactive]="item.stockActual <= item.stockMinimo">
                {{ item.stockActual <= item.stockMinimo ? 'Surtir' : 'OK' }}
              </span>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>